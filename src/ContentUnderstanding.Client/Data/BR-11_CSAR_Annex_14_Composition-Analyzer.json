{
  "description": "Analyzer for CSAR Annex 14 Compliance or NMPA document",
  "baseAnalyzerId": "prebuilt-documentAnalyzer",
  "config": {
    "returnDetails": true,
    "enableFormula": false,
    "disableContentFiltering": false,
    "estimateFieldSourceAndConfidence": true,
    "tableFormat": "html"
  },
  "fieldSchema": {
    "fields": {
      "Supplier": { "type": "string", "method": "extract", "description": "Supplier/company submitting the Annex 14 composition declaration (header/footer)." },
      "MaterialName": { "type": "string", "method": "extract", "description": "Material/raw material name covered by the Annex 14 submission." },
      "MaterialCode": { "type": "string", "method": "extract", "description": "Material identifier/code if printed (supplier or internal)." },
      "SubmissionDate": { "type": "string", "method": "extract", "description": "Submission or document date indicated on the Annex 14 form." },
      "RecommendedAmount": { "type": "string", "method": "extract", "description": "Recommended amount of the material/ingredient to be used in formulations." },
      "UseRestrictions": { "type": "string", "method": "extract", "description": "Any use restrictions or limitations for the material/ingredient." },
      "Properties": { "type": "string", "method": "extract", "description": "Key properties and characteristics of the material/ingredient." },     
      "ProductionProcess": { "type": "string", "method": "extract", "description": "Production process, technique, and steps for the material/ingredient." },
      "QualityControl": { "type": "string", "method": "extract", "description": "Quality control measures and testing for the material/ingredient." },
      "IndustryUse": { "type": "string", "method": "extract", "description": "Brief description of use requirements in other industries." },
      "RiskSubstances": { "type": "string", "method": "extract", "description": "Any risk substances or contaminants present in the material/ingredient." },
      "Components": {
        "type": "array",
        "method": "extract",
        "description": "List/table of components by INCI with Typical %, Min %, Max %, and notes. One entry per row in the composition table.",
        "items": {
          "type": "object",
          "properties": {
            "INCIName": { "type": "string", "method": "extract", "description": "INCI name of the component as listed in the table (use PCPC taxonomy wording if present)." },
            "TypicalPercent": { "type": "number", "method": "extract", "description": "Typical % w/w value for the component. Parse up to 6 decimals; remove '%' and thousand separators." },
            "MinPercent": { "type": "number", "method": "extract", "description": "Minimum % w/w if provided. If blank or 'N/A', leave empty." },
            "MaxPercent": { "type": "number", "method": "extract", "description": "Maximum % w/w if provided. If blank or 'N/A', leave empty." },
            "Notes": { "type": "string", "method": "extract", "description": "Any notes in the row (e.g., source details like 'Plant-derived (Sunflower)', assay remarks)." }
          }
        }
      },
      "QualityControlRequirements": {
        "type": "array",
        "method": "extract",
        "description": "List/table of quality control requirements for the material/ingredient.",
        "items": {
          "type": "object",
          "properties": {
            "SerialNumber": { "type": "string", "method": "extract", "description": "Serial number of the quality control requirement." },
            "IndicatorName": { "type": "string", "method": "extract", "description": "Name of the quality control indicator." },
            "Formula": { "type": "string", "method": "extract", "description": "Molecular or structural formula for the quality control requirement if clear." },
            "CASNumber": { "type": "string", "method": "extract", "description": "CAS number for the quality control requirement if clear." },
            "TestingMethod": { "type": "string", "method": "extract", "description": "Testing method name if provided" },
            "QuantitativeRange": { "type": "string", "method": "extract", "description": "Quantitative range for the quality control requirement if provided." }
          }
        }
      },
      "HeavyMetalIndicators": { "type": "string", "method": "extract", "description": "Any listed heavy metal indicators as per Annex disclosure (if present). Use the indicator names exactly as printed.", 
        "items": { "type": "string" } 
      },
      "MicrobiologicalContaminants": { "type": "string", "method": "extract", "description": "Any listed microbiological contaminants as per Annex disclosure (if present). Use the contaminant names exactly as printed.", 
        "items": { "type": "string" } 
      }
    }
  }
}
