{
  "description": "Analyzer for BR-01 Composition",
  "baseAnalyzerId": "prebuilt-documentAnalyzer",
  "config": {
    "returnDetails": true,
    "enableFormula": false,
    "disableContentFiltering": false,
    "estimateFieldSourceAndConfidence": true,
    "tableFormat": "html"
  },
  "fieldSchema": {
    "fields": {
      "Supplier": { "type": "string", "method": "extract", "description": "Supplier or company name shown in the document header/footer (e.g., Supplier, Manufacturer). Ignore addresses and contact info." },
      "MaterialName": { "type": "string", "method": "extract", "description": "Material/product name (e.g., 'Vitamin E Complex'). Prefer labels like Material, Product, Raw Material." },
      "MaterialCode": { "type": "string", "method": "extract", "description": "Supplier material code or internal code on the document (e.g., 'RM-NEW-101')." },
      "EffectiveDate": { "type": "string", "method": "extract", "description": "Document effective/issue/revision date. Accept fields labeled 'Effective Date', 'Issue Date', or similar." },
      "TotalPercent": { "type": "number", "method": "extract", "description": "Total composition percent for the mixture. If a 'Total' row is present, parse its numeric value. Strip '%' and use '.' as decimal." },
      "Components": {
        "type": "array",
        "method": "extract",
        "description": "List/table of components by INCI with Typical %, Min %, Max %, and notes. One entry per row in the composition table.",
        "items": {
          "type": "object",
          "properties": {
            "INCIName": { "type": "string", "method": "extract", "description": "INCI name of the component as listed in the table (use PCPC taxonomy wording if present)." },
            "TypicalPercent": { "type": "number", "method": "extract", "description": "Typical % w/w value for the component. Parse up to 6 decimals; remove '%' and thousand separators." },
            "MinPercent": { "type": "number", "method": "extract", "description": "Minimum % w/w if provided. If blank or 'N/A', leave empty." },
            "MaxPercent": { "type": "number", "method": "extract", "description": "Maximum % w/w if provided. If blank or 'N/A', leave empty." },
            "Notes": { "type": "string", "method": "extract", "description": "Any notes in the row (e.g., source details like 'Plant-derived (Sunflower)', assay remarks)." }
          }
        }
      }
    }
  }
}
